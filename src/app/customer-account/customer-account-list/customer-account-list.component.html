<div class="container mb-3"  *ngIf="activatedRoute.children.length === 0">
    <div class="mb-3">
    <button mat-raised-button color="primary"
    (click)="openAddCustomerAccount(customerId)">

        <mat-icon>add</mat-icon>
        <span>Add Account</span>
    </button>
    </div>
<div>
    <h2 class="p-3 mb-2 bg-primary text-white text-center ">Customer Account List</h2>
    <mat-table class="customer-table  mat-elevation-z8" [dataSource]="customerAccounts">
    <ng-container matColumnDef="name">
        <mat-header-cell class="text-break" *matHeaderCellDef>Name</mat-header-cell>>
        <mat-cell class="text-break" *matCellDef="let customerAccount">{{customerAccount.customer.name}}</mat-cell>>
    </ng-container>
    <ng-container matColumnDef="accountNumber">
        <mat-header-cell class="text-break" *matHeaderCellDef>Account Number</mat-header-cell>>
        <mat-cell class="text-break" *matCellDef="let customerAccount">{{customerAccount.accountNumber}}</mat-cell>>
    </ng-container>
    <ng-container matColumnDef="accountType">
        <mat-header-cell class="text-break" *matHeaderCellDef>Account Type</mat-header-cell>>
        <mat-cell class="text-break" *matCellDef="let customerAccount">{{customerAccount.accountType}}</mat-cell>>
    </ng-container>

    <ng-container matColumnDef="currency">
        <mat-header-cell class="text-break" *matHeaderCellDef>Currency</mat-header-cell>>
        <mat-cell class="text-break" *matCellDef="let customerAccount">{{customerAccount.currency}}</mat-cell>>
    </ng-container>
    <ng-container matColumnDef="currentBalance">
        <mat-header-cell class="text-break" *matHeaderCellDef>Current Balance</mat-header-cell>>
        <mat-cell class="text-break"
            *matCellDef="let customerAccount">{{customerAccount.currentBalance}}</mat-cell>>
    </ng-container>

    <ng-container matColumnDef="accountOpenDate">
        <mat-header-cell class="text-break" *matHeaderCellDef>Account Open Date</mat-header-cell>>
        <mat-cell class="text-break"
            *matCellDef="let customerAccount">{{customerAccount.accountOpenDate}}</mat-cell>>
    </ng-container>
    <ng-container matColumnDef="accountAction">
        <mat-header-cell class="text-break" *matHeaderCellDef>Action</mat-header-cell>>
        <mat-cell *matCellDef="let customerAccount">
            <button mat-icon-button class="text-success" (click)="openUpdateCustomerAccount(customerAccount.customer.customerId,customerAccount.customerAccountId)">
                <mat-icon>edit</mat-icon>
            </button>
            <button mat-icon-button class="text-danger" (click)="deleteCustomerAccount()">
                <mat-icon>delete</mat-icon>
            </button>
        </mat-cell>
    </ng-container>
    <mat-header-row *matHeaderRowDef="displayedColumns" style="background-color: lightgray;"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>

  </mat-table>
  
  <mat-label class="text-danger">{{responseMessage}}</mat-label>
</div>
</div>
